{% extends "layouts/base.html" %}
{% block content %}
<head>
  <style type="text/css">
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .card-header .btn {
      margin-left: auto;
    }
  </style>
</head>
<main>
  <div class="card mb-4">
    <br />
    <div class="card-header" style="justify-content: space-between">
      <i class="fas fa-table me-1"></i>
      {{ title }}
      <a href="{% url 'create-user' %}" class="btn btn-primary ml-auto" style="margin-left: auto">Add User</a>
    </div>
    <div class="card-body">
      <div class="table-responsive" style="margin-top: 10px">
        <table id="example" class="table table-striped table-bordered" style="width: 100%">
          <thead class="bg-success text-white">
            <tr>
              <th scope="col" class="text-center">#</th>
              <th scope="col" class="text-center">Username</th>
              <th scope="col" class="text-center">Email</th>
              <th scope="col" class="text-center">Role</th>
              <th scope="col" class="text-center">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for user in users %}
            <tr>
              <th class="align-middle text-center" scope="row">
                {{ forloop.counter }}
              </th>
              <td class="align-middle text-center">{{ user.username }}</td>
              <td class="align-middle text-center">{{ user.email }}</td>
              <td class="align-middle text-center">
                {% if user.profile %}
                  {{ user.profile.get_role_display }}
                {% else %}
                  No Profile
                {% endif %}
              </td>
              <td class="align-middle text-center">
                <a href="#" class="btn btn-primary">Update</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</main>
{% endblock content %}
